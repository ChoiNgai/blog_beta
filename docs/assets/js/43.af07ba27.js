(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{411:function(s,t,a){"use strict";a.r(t);var e=a(30),n=Object(e.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"hive查询的十八种方式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#hive查询的十八种方式"}},[s._v("#")]),s._v(" Hive查询的十八种方式")]),s._v(" "),a("hr"),s._v(" "),a("h2",{attrs:{id:"准备"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#准备"}},[s._v("#")]),s._v(" 准备")]),s._v(" "),a("p",[s._v("        我们本期内容大部分HQL操作都需要依赖如下两张表，具体的数据内容如下：")]),s._v(" "),a("p",[a("strong",[s._v("course")]),s._v(" "),a("img",{attrs:{src:"https://img-blog.csdnimg.cn/20201129215608427.png?,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDMxODgzMA==,size_16,color_FFFFFF,t_70",alt:"course"}})]),s._v(" "),a("p",[a("strong",[s._v("student")]),s._v(" "),a("img",{attrs:{src:"https://img-blog.csdnimg.cn/20201129215619344.png?,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDMxODgzMA==,size_16,color_FFFFFF,t_70",alt:"student"}})]),s._v(" "),a("h2",{attrs:{id:"_1、select查询语句"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、select查询语句"}},[s._v("#")]),s._v(" 1、SELECT查询语句")]),s._v(" "),a("p",[s._v("        SELECT 查询语句比较简单，后面跟要查询的字段，如下所示：")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[s._v("hive "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("hypers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" name "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" student"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nOK\nname\nRose\nJack\nJimmy\nTom\nJerry\n")])])]),a("p",[s._v("        可以为查询语句中的列和表加上别名，如下所示：")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[s._v("hive "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("hypers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("name "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" student t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nOK\nt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("name\nRose\nJack\nJimmy\nTom\nJerry\n")])])]),a("p",[s._v("        可以使用如下语句进行嵌套查询：")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[s._v("hive "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("hypers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" b"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("coursename\n             "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" stuid"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" name "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" student"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" a\n             "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("          "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("join")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" stuid"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" coursename "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" course"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" b "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("on")]),s._v(" a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("stuid "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" b"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("stuid"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\nOK\na"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("name  b"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("coursename\nRose    C语言\nJack    Java\nJimmy   高等数学\nTom     离散数学\nJerry   C"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("\n")])])]),a("p",[s._v("        可以使用正则表达式指定查询的列，如下所示：")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[s._v("hive "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("hypers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" student t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nOK\nt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("stuid t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("name  t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sex   t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("age\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317408")]),s._v("        Rose    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317412")]),s._v("        Jack    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317432")]),s._v("        Jimmy   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317423")]),s._v("        Tom     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317478")]),s._v("        Jerry   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317467")]),s._v("        Alice   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("\n")])])]),a("p",[s._v("        可以使用 "),a("code",[s._v("LIMIT")]),s._v(" 限制查询的结果条数，如下所示：")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[s._v("hive "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("hypers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" student "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("limit")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nOK\nstudent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("stuid   student"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("name    student"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sex     student"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("age\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317408")]),s._v("        Rose    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v("\n")])])]),a("p",[s._v("        可以使用"),a("code",[s._v("ORDER BY")]),s._v("语句对结果进行排序，升序我们可以不在排序的字段后加上"),a("code",[s._v("ASC")]),s._v("(默认)，但是倒序需要指定"),a("code",[s._v("DESC")]),s._v("，如下所示：")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[s._v("hive "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("hypers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" student "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("order")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" age "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("desc")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nOK\nstudent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("stuid   student"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("name    student"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sex     student"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("age\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317432")]),s._v("        Jimmy   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317408")]),s._v("        Rose    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317467")]),s._v("        Alice   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317423")]),s._v("        Tom     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317412")]),s._v("        Jack    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317478")]),s._v("        Jerry   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("Time")]),s._v(" taken: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.631")]),s._v(" seconds"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" Fetched: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("row")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\nhive "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("hypers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" student "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("order")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" age"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nOK\nstudent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("stuid   student"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("name    student"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sex     student"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("age\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317478")]),s._v("        Jerry   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317467")]),s._v("        Alice   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317423")]),s._v("        Tom     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317412")]),s._v("        Jack    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317432")]),s._v("        Jimmy   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317408")]),s._v("        Rose    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v("\n")])])]),a("p",[s._v("        我们还可以使用"),a("code",[s._v("CASE...WHEN...THEN")]),s._v("语句对某一列的值进行处理，如下所示：")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[s._v("hive "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("hypers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" stuid"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n             "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("        name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n             "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("        age"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n             "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("        sex"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n             "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CASE")]),s._v("\n             "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHEN")]),s._v(" sex "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'1'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("THEN")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'男'")]),s._v("\n             "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHEN")]),s._v(" sex "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'0'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("THEN")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'女'")]),s._v("\n             "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ELSE")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'未知'")]),s._v("\n             "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("END")]),s._v("\n             "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" student"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nOK\nstuid   name    age     sex     _c4\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317408")]),s._v("        Rose    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("       男\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317412")]),s._v("        Jack    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("       女\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317432")]),s._v("        Jimmy   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("       男\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317423")]),s._v("        Tom     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("       男\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317478")]),s._v("        Jerry   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("       女\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317478")]),s._v("        Alice   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("       女\n")])])]),a("h2",{attrs:{id:"_2、where-条件语句"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、where-条件语句"}},[s._v("#")]),s._v(" 2、WHERE 条件语句")]),s._v(" "),a("p",[s._v("        WHERE 条件语句主要是对查询进行条件限制，如下所示：")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[s._v("hive "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("hypers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" student "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" age "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nOK\nstudent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("stuid   student"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("name    student"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sex     student"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("age\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317408")]),s._v("        Rose    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317432")]),s._v("        Jimmy   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v("\n")])])]),a("p",[s._v("        WHERE 条件语句常用的操作符如该表所示")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("操作符")]),s._v(" "),a("th",[s._v("支持的数据类型")]),s._v(" "),a("th",[s._v("说明")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v("A=B")]),s._v(" "),a("td",[s._v("基本数据类型")]),s._v(" "),a("td",[s._v("如果A等于B，则返回true，否则返回false")])]),s._v(" "),a("tr",[a("td",[s._v("A<=>B")]),s._v(" "),a("td",[s._v("基本数据类型")]),s._v(" "),a("td",[s._v("如果A和B都为NULL，则返回true，其他情况和 A=B 相同")])]),s._v(" "),a("tr",[a("td",[s._v("A<>B，A != B")]),s._v(" "),a("td",[s._v("基本数据类型")]),s._v(" "),a("td",[s._v("如果A或者B为NULL，则返回NULL；如果A不等于B返回 true，否则返回 false")])]),s._v(" "),a("tr",[a("td",[s._v("A<B")]),s._v(" "),a("td",[s._v("基本数据类型")]),s._v(" "),a("td",[s._v("如果A或者B为NULL，则返回NULL；如果A小于B返回 true，否则返回 false")])]),s._v(" "),a("tr",[a("td",[s._v("A<=B")]),s._v(" "),a("td",[s._v("基本数据类型")]),s._v(" "),a("td",[s._v("如果A或者B为NULL，则返回NULL；如果A小于或等于B返回 true，否则返回 false")])]),s._v(" "),a("tr",[a("td",[s._v("A>B")]),s._v(" "),a("td",[s._v("基本数据类型")]),s._v(" "),a("td",[s._v("如果A 或者B为NULL，则返回NULL；如果A大于B返回 true，否则返回 false")])]),s._v(" "),a("tr",[a("td",[s._v("A>=B")]),s._v(" "),a("td",[s._v("基本数据类型")]),s._v(" "),a("td",[s._v("如果A 或者B为NULL，则返回NULL；如果A大于或者等于B返回 true，否则返回 false")])]),s._v(" "),a("tr",[a("td",[s._v("A IS NULL")]),s._v(" "),a("td",[s._v("所有数据类型")]),s._v(" "),a("td",[s._v("如果A为NULL返回true，否则返回 false")])]),s._v(" "),a("tr",[a("td",[s._v("A IS NOT NULL")]),s._v(" "),a("td",[s._v("所有数据类型")]),s._v(" "),a("td",[s._v("如果A不为NULL返回true，否则返回 false")])]),s._v(" "),a("tr",[a("td",[s._v("A BETWEEN B AND C")]),s._v(" "),a("td",[s._v("基本数据类型")]),s._v(" "),a("td",[s._v("如果A、B、C任一为NULL，则返回NULL；如果A大于或者等于B并且A小于或等于C，则返回true，否则返回 false")])]),s._v(" "),a("tr",[a("td",[s._v("A NOT BETWEEN B AND C")]),s._v(" "),a("td",[s._v("基本数据类型")]),s._v(" "),a("td",[s._v("如果A、B、C任一为NULL，则返回NULL；如果A小于B或者A大于C，则返回true，否则返回 false")])]),s._v(" "),a("tr",[a("td",[s._v("A LIKE B")]),s._v(" "),a("td",[s._v("STRING类型")]),s._v(" "),a("td",[s._v("如果A模糊匹配B，则返回true，否则返回 false")])]),s._v(" "),a("tr",[a("td",[s._v("A NOT LIKE B")]),s._v(" "),a("td",[s._v("STRING类型")]),s._v(" "),a("td",[s._v("如果A不模糊匹配B，则返回true，否则返回 false")])]),s._v(" "),a("tr",[a("td",[s._v("A RLIKE B，A REGEXP B")]),s._v(" "),a("td",[s._v("STRING类型")]),s._v(" "),a("td",[s._v("B是一个正则表达式，如果A匹配正则表达式，则返回 true，否则返回 false")])])])]),s._v(" "),a("h2",{attrs:{id:"_3、group-by-语句"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3、group-by-语句"}},[s._v("#")]),s._v(" 3、GROUP BY 语句")]),s._v(" "),a("p",[a("code",[s._v("GROUP BY")]),s._v("语句主要是对查询的数据进行分组，通常会和聚合函数一起使用，如下所示：")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[s._v("hive "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("hypers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" sex"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("avg")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("age"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" student "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("group")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" sex"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nOK\nsex     _c1\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19.666666666666668")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20.666666666666668")]),s._v("\n")])])]),a("h2",{attrs:{id:"_4、having语句"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4、having语句"}},[s._v("#")]),s._v(" 4、HAVING语句")]),s._v(" "),a("p",[a("code",[s._v("HAVING")]),s._v("语句主要用来对"),a("code",[s._v("GROUP BY")]),s._v("语句的结果进行条件限制，如下所示：")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[s._v("hive "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("hypers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" sex"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("avg")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("age"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" student "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("group")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" sex "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("having")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("avg")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("age"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nOK\nsex     _c1\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20.666666666666668")]),s._v("\n")])])]),a("h2",{attrs:{id:"_5、inner-join语句"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5、inner-join语句"}},[s._v("#")]),s._v(" 5、INNER JOIN语句")]),s._v(" "),a("p",[s._v("        在 "),a("code",[s._v("INNER JOIN")]),s._v(" 语句中，只有进行连接的两个表中都存在与连接条件相匹配的数据时才会被显示在结果数据中，如下所示：")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[s._v("hive "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("hypers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" t1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("t2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("coursename "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" student t1 "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("join")]),s._v(" course t2 "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("on")]),s._v(" t1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("stuid "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" t2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("stuid"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nOK\nt1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("name t2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("coursename\nRose    C语言\nJack    Java\nJimmy   高等数学\nTom     离散数学\nJerry   C"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("\n")])])]),a("h2",{attrs:{id:"_6、-left-outer-join语句"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6、-left-outer-join语句"}},[s._v("#")]),s._v(" 6、 LEFT OUTER JOIN语句")]),s._v(" "),a("p",[a("code",[s._v("LEFT OUTER JOIN")]),s._v("语句表示左外连接，左外连接查询数据会包含左表中的全部记录，而右表中不符合条件的结果将以"),a("code",[s._v("NULL")]),s._v("的形式出现，如下所示：")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[s._v("hive "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("hypers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" t1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("t2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("coursename "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" student t1 "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("left")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("outer")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("join")]),s._v(" course t2 "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("on")]),s._v(" t1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("stuid "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" t2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("stuid"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nOK\nt1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("name t2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("coursename\nRose    C语言\nJack    Java\nJimmy   高等数学\nTom     离散数学\nJerry   C"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("\nAlice   "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),s._v("\n")])])]),a("h2",{attrs:{id:"_7、right-outer-join语句"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7、right-outer-join语句"}},[s._v("#")]),s._v(" 7、RIGHT OUTER JOIN语句")]),s._v(" "),a("p",[a("code",[s._v("RIGHT OUTER JOIN")]),s._v("表示右外连接，右外连接查询数据会包含右表中的全部记录，而左表中不符合条件的结果将以 NULL 的形式出现，如下所示：")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[s._v("hive "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("hypers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" t1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("t2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("coursename "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" student t1 "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("right")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("outer")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("join")]),s._v(" course t2 "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("on")]),s._v(" t1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("stuid "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" t2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("stuid"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nOK\nt1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("name t2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("coursename\nRose    C语言\nJack    Java\nJimmy   高等数学\nTom     离散数学\nJerry   C"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),s._v("    大数据应用开发\n")])])]),a("h2",{attrs:{id:"_8、full-outer-join语句"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_8、full-outer-join语句"}},[s._v("#")]),s._v(" 8、FULL OUTER JOIN语句")]),s._v(" "),a("p",[a("code",[s._v("FULL OUTER JOIN")]),s._v("语句表示全外连接，结果数据会包含左表和右表的全部数据，不符合条件的用NULL表示，如下所示：")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[s._v("hive "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("hypers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" t1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("t2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("coursename "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" student t1 "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FULL")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("outer")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("join")]),s._v(" course t2 "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("on")]),s._v(" t1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("stuid "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" t2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("stuid"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nOK\nt1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("name t2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("coursename\nRose    C语言\nJack    Java\nTom     离散数学\nJimmy   高等数学\n"),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),s._v("    大数据应用开发\nAlice   "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),s._v("\nJerry   C"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("\n")])])]),a("h2",{attrs:{id:"_9、-left-semi-join语句"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_9、-left-semi-join语句"}},[s._v("#")]),s._v(" 9、 LEFT SEMI JOIN语句")]),s._v(" "),a("p",[a("code",[s._v("LEFT SEMI JOIN")]),s._v("语句表示左半连接，其结果数据对应右表满足 ON 语句中的条件，如下所示：")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[s._v("hive "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("hypers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" t1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("name "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" student t1 "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LEFT")]),s._v(" SEMI "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" course t2 "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("on")]),s._v(" t1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("stuid "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" t2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("stuid"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nOK\nt1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("name\nRose\nJack\nJimmy\nTom\nJerry\n")])])]),a("blockquote",[a("p",[s._v("注意：| 在 LEFT SEMI JOIN 语句中，SELECT 和 WHERE 子句中不能引用右表中的字段。|")])]),s._v(" "),a("h2",{attrs:{id:"_10、笛卡尔积-join-语句"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_10、笛卡尔积-join-语句"}},[s._v("#")]),s._v(" 10、笛卡尔积 JOIN 语句")]),s._v(" "),a("p",[s._v("        笛卡尔积 JOIN 语句 表示左表的行数乘以右表的行数等于结果集的大小，如下所示：")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[s._v("hive "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("hypers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" student "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("join")]),s._v(" course"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nOK\nstudent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("stuid   student"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("name    student"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sex     student"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("age     course"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("stuid    course"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("coursename     course"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("score\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317408")]),s._v("        Rose    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317408")]),s._v("        C语言   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("50")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317412")]),s._v("        Jack    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317408")]),s._v("        C语言   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("50")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317432")]),s._v("        Jimmy   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317408")]),s._v("        C语言   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("50")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317423")]),s._v("        Tom     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317408")]),s._v("        C语言   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("50")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317478")]),s._v("        Jerry   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317408")]),s._v("        C语言   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("50")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317467")]),s._v("        Alice   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317408")]),s._v("        C语言   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("50")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317408")]),s._v("        Rose    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317412")]),s._v("        Java    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("60")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317412")]),s._v("        Jack    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317412")]),s._v("        Java    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("60")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317432")]),s._v("        Jimmy   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317412")]),s._v("        Java    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("60")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317423")]),s._v("        Tom     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317412")]),s._v("        Java    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("60")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317478")]),s._v("        Jerry   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317412")]),s._v("        Java    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("60")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317467")]),s._v("        Alice   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317412")]),s._v("        Java    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("60")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317408")]),s._v("        Rose    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317432")]),s._v("        高等数学        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("70")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317412")]),s._v("        Jack    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317432")]),s._v("        高等数学        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("70")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317432")]),s._v("        Jimmy   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317432")]),s._v("        高等数学        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("70")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317423")]),s._v("        Tom     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317432")]),s._v("        高等数学        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("70")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317478")]),s._v("        Jerry   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317432")]),s._v("        高等数学        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("70")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317467")]),s._v("        Alice   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317432")]),s._v("        高等数学        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("70")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317408")]),s._v("        Rose    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317423")]),s._v("        离散数学        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317412")]),s._v("        Jack    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317423")]),s._v("        离散数学        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317432")]),s._v("        Jimmy   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317423")]),s._v("        离散数学        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317423")]),s._v("        Tom     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317423")]),s._v("        离散数学        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317478")]),s._v("        Jerry   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317423")]),s._v("        离散数学        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317467")]),s._v("        Alice   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317423")]),s._v("        离散数学        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317408")]),s._v("        Rose    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317478")]),s._v("        C"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("90")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317412")]),s._v("        Jack    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317478")]),s._v("        C"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("90")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317432")]),s._v("        Jimmy   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317478")]),s._v("        C"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("90")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317423")]),s._v("        Tom     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317478")]),s._v("        C"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("90")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317478")]),s._v("        Jerry   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317478")]),s._v("        C"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("90")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317467")]),s._v("        Alice   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317478")]),s._v("        C"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("90")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317408")]),s._v("        Rose    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317463")]),s._v("        大数据应用开发  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317412")]),s._v("        Jack    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317463")]),s._v("        大数据应用开发  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317432")]),s._v("        Jimmy   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317463")]),s._v("        大数据应用开发  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317423")]),s._v("        Tom     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317463")]),s._v("        大数据应用开发  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317478")]),s._v("        Jerry   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317463")]),s._v("        大数据应用开发  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317467")]),s._v("        Alice   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317463")]),s._v("        大数据应用开发  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),s._v("\n")])])]),a("blockquote",[a("p",[s._v("注意：| 如果将 Hive 的属性hive.mapred.mode 设置为 strict，则会阻止执行笛卡尔积查询。 |")])]),s._v(" "),a("h2",{attrs:{id:"_11、map-side-join语句"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_11、map-side-join语句"}},[s._v("#")]),s._v(" 11、map-side JOIN语句")]),s._v(" "),a("p",[s._v("        map-site JOIN语句会在Map阶段将小表读到内存，直接在 Map 端 进行JOIN，这种连接需要在查询语句中显式申明，如下所示：")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/* + MapJOIN(t1) */")]),s._v(" s1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("stuid"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("s2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("stuid  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" student s1 "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" student s2 "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" s1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("stuid "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" s2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("stuid"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),a("p",[s._v("        可以通过设置Hive的属性 "),a("code",[s._v("hive.auto.convert.join=true")]),s._v("自动开启 "),a("code",[s._v("map-side JOIN")]),s._v("；也可以设置 Hive 的属性 "),a("code",[s._v("hive.mapjoin.smalltable.filesize")]),s._v("定义表的大小，默认为 25 000 000 B。")]),s._v(" "),a("h2",{attrs:{id:"_12、多表join语句"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_12、多表join语句"}},[s._v("#")]),s._v(" 12、多表JOIN语句")]),s._v(" "),a("p",[s._v("        Hive支持多张表进行连接，语句如下所示：")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[s._v("hive "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("hypers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("\n               "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" test1 t1\n               "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" test2 t2 "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" t1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" t2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id\n               "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" test3 t3 "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" t2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" t3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id\n")])])]),a("p",[s._v("        每个 JOIN 都会启动一个 MapReduce 作业。第一个MapReduce作业连接 test1 表和 test2 表，第二个MapReduce作业连接第一个MapReduce作业的输出结果和 test3 表。")]),s._v(" "),a("h2",{attrs:{id:"_13、order-by-和-sort-by-语句"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_13、order-by-和-sort-by-语句"}},[s._v("#")]),s._v(" 13、ORDER BY 和 SORT BY 语句")]),s._v(" "),a("p",[s._v("        Hive中的 "),a("code",[s._v("ORDER BY")]),s._v("语句和"),a("code",[s._v("SQL")]),s._v("语句一样，可以实现对结果集的排序，如下所示：")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[s._v("hive "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("hypers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" student "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("order")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" age "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("asc")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("stuId "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("desc")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nOK\nstudent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("stuid   student"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("name    student"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sex     student"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("age\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317478")]),s._v("        Jerry   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317467")]),s._v("        Alice   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317423")]),s._v("        Tom     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317412")]),s._v("        Jack    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317432")]),s._v("        Jimmy   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317408")]),s._v("        Rose    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("Time")]),s._v(" taken: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11.929")]),s._v(" seconds"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" Fetched: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("row")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])])]),a("p",[s._v("        上述语句表示按照age字段升序，stuId字段降序排序。")]),s._v(" "),a("p",[s._v("        如果Hive表中的数据非常多，使用 "),a("code",[s._v("ORDER BY")]),s._v("排序可能会导致执行的时间过长，此时可以设置Hive的属性 "),a("code",[s._v("hive.mapred.mode")]),s._v("为strict，则排序语句后面必须加上 "),a("code",[s._v("LIMIT")]),s._v("限制查询的结果条数，以避免数据量太多造成的执行时间过长的问题，如下所示：")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[s._v("hive "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("hypers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SET")]),s._v(" hive"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("mapred"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("mode")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" strict"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nhive "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("hypers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" student "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("order")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" age "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("asc")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("stuId "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("desc")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("limit")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nOK\nstudent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("stuid   student"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("name    student"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sex     student"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("age\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317478")]),s._v("        Jerry   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317467")]),s._v("        Alice   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317423")]),s._v("        Tom     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317412")]),s._v("        Jack    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317432")]),s._v("        Jimmy   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317408")]),s._v("        Rose    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("Time")]),s._v(" taken: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("9.378")]),s._v(" seconds"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" Fetched: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("row")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])])]),a("p",[a("code",[s._v("SORT BY")]),s._v("语句会在每个Reduce中对数据进行排序，可以保证每个Reduce输出的数据是有序的（全局不一定有序），并可以提高全局排序的性能，如下所示：")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[s._v("hive "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("hypers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" student sort "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" age "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("asc")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("stuId "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("desc")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("limit")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nOK\nstudent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("stuid   student"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("name    student"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sex     student"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("age\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317478")]),s._v("        Jerry   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317467")]),s._v("        Alice   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317423")]),s._v("        Tom     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317412")]),s._v("        Jack    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317432")]),s._v("        Jimmy   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317408")]),s._v("        Rose    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v("\n")])])]),a("p",[s._v("        上述语句会在每个Reduce中对age字段进行升序排序，同时对"),a("code",[s._v("create_time")]),s._v("字段进行降序排序。如果Reduce个数为1，则"),a("code",[s._v("ORDER BY")]),s._v("和"),a("code",[s._v("SORT BY")]),s._v("语句的查询结果相同；如果Reduce个数大于1，则"),a("code",[s._v("SORT BY")]),s._v("输出的结果为局部有序。")]),s._v(" "),a("h2",{attrs:{id:"_14、-distribute-by-和-sort-by语句"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_14、-distribute-by-和-sort-by语句"}},[s._v("#")]),s._v(" 14、 DISTRIBUTE BY 和 SORT BY语句")]),s._v(" "),a("p",[a("code",[s._v("DISTRIBUTE")]),s._v("语句结合"),a("code",[s._v("SORT BY")]),s._v("语句可以实现在第一列数据相同时，能够按照第二列数据进行排序，如下所示：")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[s._v("hive "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("hypers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" student distribute "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" sex sort "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" age"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("stuId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nOK\nstudent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("stuid   student"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("name    student"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sex     student"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("age\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317478")]),s._v("        Jerry   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317412")]),s._v("        Jack    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317423")]),s._v("        Tom     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317467")]),s._v("        Alice   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317408")]),s._v("        Rose    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317432")]),s._v("        Jimmy   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v("\n")])])]),a("p",[a("code",[s._v("DISTRIBUTE BY")]),s._v("语句能够保证sex相同的数据进入同一个  Reduce 函数，在 Reduce中再按照 age 和 stuId 排序即可实现在第一列数据相同时，按照第二列数据排序。")]),s._v(" "),a("h2",{attrs:{id:"_15、cluster-by语句"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_15、cluster-by语句"}},[s._v("#")]),s._v(" 15、CLUSTER BY语句")]),s._v(" "),a("p",[s._v("        如果 "),a("code",[s._v("DISTRIBUTE BY")]),s._v(" 和 "),a("code",[s._v("SORT BY")]),s._v("语句中的列完全相同，并且都是按照升序排序，则可以使用"),a("code",[s._v("CLUSTER BY")]),s._v("语句代替"),a("code",[s._v("DISTRIBUTE BY")]),s._v("和"),a("code",[s._v("SORT BY")]),s._v("语句，如下所示：")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" student distribute "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" age sort "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" age"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),a("p",[s._v("        上面的语句等价于：")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[s._v("hive "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("hypers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" student cluster "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" age"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nOK\nstudent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("stuid   student"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("name    student"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sex     student"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("age\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317478")]),s._v("        Jerry   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317467")]),s._v("        Alice   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317423")]),s._v("        Tom     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317412")]),s._v("        Jack    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317432")]),s._v("        Jimmy   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317408")]),s._v("        Rose    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v("\n")])])]),a("h2",{attrs:{id:"_16、类型转换"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_16、类型转换"}},[s._v("#")]),s._v(" 16、类型转换")]),s._v(" "),a("p",[s._v("        类型转换可以使用 "),a("code",[s._v("cast(value As TYPE)")]),s._v("语法，如下所示：")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[s._v("hive "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("hypers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" student "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" cast"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("stuId "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INT")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317450")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nOK\nstudent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("stuid   student"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("name    student"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sex     student"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("age\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317478")]),s._v("        Jerry   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317467")]),s._v("        Alice   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("\n")])])]),a("p",[s._v("        上述语句表示将 stuId 转化为 INT 类型。")]),s._v(" "),a("h2",{attrs:{id:"_17、分桶抽样"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_17、分桶抽样"}},[s._v("#")]),s._v(" 17、分桶抽样")]),s._v(" "),a("p",[s._v("        Hive支持分桶抽样查询，如下所示：")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[s._v("hive "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("hypers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" student TABLESAMPLE "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("BUCKET "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("OUT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("OF")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" stuid"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nOK\nstudent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("stuid   student"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("name    student"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sex     student"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("age\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317467")]),s._v("        Alice   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("\n")])])]),a("p",[s._v("        上述语句表示查询时分6个桶，取第2个桶，分桶的依据是将id值的哈希值除以桶数6的余数。也可以采用"),a("strong",[s._v("随机抽样")]),s._v("的方式，如下所示：")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[s._v("hive "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("hypers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" student TABLESAMPLE "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("BUCKET "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("OUT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("OF")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" RAND"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nOK\nstudent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("stuid   student"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("name    student"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sex     student"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("age\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15317478")]),s._v("        Jerry   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("Time")]),s._v(" taken: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.04")]),s._v(" seconds"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" Fetched: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("row")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])])]),a("p",[s._v("        可以在创建表时指定分桶，需要提前将 Hive 的 "),a("code",[s._v("hive.enforce.bucketing")]),s._v("属性设置为 true。该属性可以在 "),a("code",[s._v("hive-site.xml")]),s._v("文件中配置，如下所示：")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("property"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("name"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("hive"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("enforce"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("bucketing"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("name"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("value")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("value")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("property"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])])]),a("p",[s._v("        也可以在Hive命令行设置，如下所示：")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[s._v("hive "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("default")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SET")]),s._v(" hive"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("enforce"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("bucketing "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),a("p",[s._v("        创建表时指定分桶，并插入 student 表中的 id列数据，如下所示：")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[s._v("hive "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("hypers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" test_bucket"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("id "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INT")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CLUSTERED")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" BUCKETS "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nOK\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("Time")]),s._v(" taken: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.086")]),s._v(" seconds\nhive "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("hypers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v(" OVERWRITE "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" test_bucket "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" stuid "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" student"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nOK\nstuid\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("Time")]),s._v(" taken: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("24.261")]),s._v(" seconds\n")])])]),a("p",[s._v("        上述语句首先创建一个 "),a("code",[s._v("test_bucket")]),s._v("表，并将  "),a("code",[s._v("test_bucket")]),s._v(" 表划分为3个桶，然后将 student 表中的 id 列数据插入 "),a("code",[s._v("test_bucket")]),s._v("表中。插入的数据会被保存在3个文件中，每个桶一个文件，保存在 "),a("code",[s._v("test_bucket")]),s._v("表路径下。")]),s._v(" "),a("h2",{attrs:{id:"_18、-union-all-语句"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_18、-union-all-语句"}},[s._v("#")]),s._v(" 18、 UNION ALL 语句")]),s._v(" "),a("p",[s._v("        Hive 支持 "),a("code",[s._v("UNION ALL")]),s._v("查询，其主要用于多表数据合并的场景。使用 "),a("code",[s._v("UNION ALL")]),s._v("语句要求"),a("strong",[s._v("各表查询出的字段类型必须完全匹配")]),s._v("，如下所示：")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("name\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" t1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("t1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("name "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" test1 t1\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("UNION")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ALL")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" t2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("t2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("name "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" test2 t2\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("UNION")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ALL")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" t3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("t3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("name "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" test3 t3\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" t\n")])])]),a("blockquote",[a("p",[s._v("注意：| 在Hive中使用 "),a("code",[s._v("UNION ALL")]),s._v("语句，必须使用嵌套查询 。 |")])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://img-blog.csdnimg.cn/20201129214313103.png?,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDMxODgzMA==,size_16,color_FFFFFF,t_70#pic_center",alt:""}})])])}),[],!1,null,null,null);t.default=n.exports}}]);